
{% extends 'base/base.html' %}
{% block title %}
Profile
{% endblock %}
{% block content %}
<div class="container py-5">
    <!-- Profile Header -->
    <div class="row align-items-center mb-4">
      <div class="col-md-3 text-center mb-3 mb-md-0">
        <img src="{{profile.profile_img.url}}" class="rounded-circle border border-2" width="120" height="120" alt="Profile">
      </div>
      <div class="col-md-9">
        <div class="d-flex align-items-center gap-3 mb-2">
          <h4 class="mb-0"> @{{user_detail}}</h4>
         
        </div>
        <div class="d-flex gap-4 text-secondary">
            {% if no_of_posts > 1  %}
          <div><strong class="text-dark">{{no_of_posts}}</strong> Posts</div>
          {% else %}
          <div><strong class="text-dark">{{no_of_posts}}</strong> Post</div>
          {% endif %}
          {% if follower > 1 %}
          <div><strong class="text-dark">{{follower}}</strong> Followers</div>
          {% else %}

          <div><strong class="text-dark">{{follower}}</strong> Follower</div>
          {% endif  %}
          <div><strong class="text-dark">{{following}}</strong> Following</div>
        </div>
        <div class="mt-2">
          <p class="fw-bold mb-0">{{user_detail.first_name}}</p>
          <p class="mb-0">{{profile.bio}}</p>
        </div>
        <div class="col-12 mt-4 d-flex gap-2 justify-content-end">
            <a href="{% url 'app:message' slug=profile.slug %}#last" style="border-radius: 30px;" class="btn btn-primary fw-bold text-white  px-3  circle">Message</a>
          {% if is_following %}
            <a href="{% url 'app:follow' slug=profile.slug path=request.path  %}" style="border-radius: 30px;" class="btn fw-bold text-white un-follow  px-3  circle">Following</a>
            {% else %}
            <a href="{% url 'app:follow' slug=profile.slug path=request.path %}" style="border-radius: 30px;" class="btn fw-bold follow  px-3 btn-primary circle">Follow</a>
          {% endif  %}
          </div>
      </div>
    </div>
  
    <hr>
  
    <!-- Posts Grid -->
    <div class="d-flex flex-wrap gap-1 justify-content-center col-12">
      {% if posts %}
      {% for post in posts %}
      <div class="col-10  col-sm-5 col-md-4 rounded d-flex justify-content-center align-items-center h-auto shadow-lg ">
        <img src="{{post.image.url}}" class="img-fluid  post-img-custom rounded" alt="Post">
      </div>
      {% endfor %}
      {% else %}
      <p class="text-secondary text-center fw-bold fs-2" >No Posts yet</p>
      {% endif  %}
    </div>
  
  </div>

{% endblock %}
{% extends 'base/base.html'%}
{% block title %}
Product
{% endblock %}
{% block content %}

<!-- ======================== Table =========================== -->
<div class="custom-add-btn d-flex mt-3 justify-content-between p-3  col-12">
    <h1 class="mt-3">Products</h1>
    <a href="{% url 'ecommerce:add_product' %}" class="btn btn-success h-50"><i class="fa-solid fa-plus me-1"></i>Add Product</a>
</div>
<table class="table table-success table-striped">
  <tr>
    <th class="text-center">S.NO</th>
    <th class="text-center">PRODUCT NAME</th>
    <th class="text-center" colspan="2">ACTIONS</th>
  </tr>

  {% if products %}
  {% for product in products %}
  <tr>
    <td class="text-center">{{ forloop.counter }}</td>
    <td class="text-center">{{product.product_name}}</td>
    <td class="text-center"><a class="btn btn-primary" href="{% url 'ecommerce:update_product' slug=product.slug %} ">Update</a></td>
    <td class="text-center"><button onclick="conform_product_del(`{% url 'ecommerce:delete_product' slug=product.slug %}`)" class="btn btn-danger">Delete</button></td>
  </tr>
  {% endfor %}
  
  <tr>

    <td class="text-center text-secondary " colspan="4"><a href="{% url 'ecommerce:add_product' %}" class="text-decoration-none h4" ><i class="fa-solid fa-plus me-1"></i>Add</a></td>
  </tr>
  {% else %}
  <p class="text-secondary">No Products</p>
  {% endif %}
  </table>
  <script>
    function conform_product_del(url){
     
      let conform_for_product=confirm('Are sure To Delete Product')
      if(conform_for_product){
        window.location.href=url
      }
    }
  </script>
{% endblock %}